#include <stdlib.h>
#include "gbe.h"
#include "opcodes.h"

struct opcode OPCODE_DESCRIPTIONS[256]={
  { .name="NOP", .cb=0 },
  { .name="LD_BC_D16", .cb=0 },
  { .name="LD_BC_IND_A", .cb=0 },
  { .name="INC_BC", .cb=0 },
  { .name="INC_B", .cb=0 },
  { .name="DEC_B", .cb=0 },
  { .name="LD_B_D8", .cb=0 },
  { .name="RLCA", .cb=0 },
  { .name="LD_A16_IND_SP", .cb=0 },
  { .name="ADD_HL_BC", .cb=0 },
  { .name="LD_A_BC_IND", .cb=0 },
  { .name="DEC_BC", .cb=0 },
  { .name="INC_C", .cb=0 },
  { .name="DEC_C", .cb=0 },
  { .name="LD_C_D8", .cb=0 },
  { .name="RRCA", .cb=0 },
  { .name="STOP", .cb=0 },
  { .name="LD_DE_D16", .cb=0 },
  { .name="LD_DE_IND_A", .cb=0 },
  { .name="INC_DE", .cb=0 },
  { .name="INC_D", .cb=0 },
  { .name="DEC_D", .cb=0 },
  { .name="LD_D_D8", .cb=0 },
  { .name="RLA", .cb=0 },
  { .name="JR_R8", .cb=0 },
  { .name="ADD_HL_DE", .cb=0 },
  { .name="LD_A_DE_IND", .cb=0 },
  { .name="DEC_DE", .cb=0 },
  { .name="INC_E", .cb=0 },
  { .name="DEC_E", .cb=0 },
  { .name="LD_E_D8", .cb=0 },
  { .name="RRA", .cb=0 },
  { .name="JR_NZ_R8", .cb=0 },
  { .name="LD_HL_D16", .cb=0 },
  { .name="LD_HL_IND_PLUS_A", .cb=0 },
  { .name="INC_HL", .cb=0 },
  { .name="INC_H", .cb=0 },
  { .name="DEC_H", .cb=0 },
  { .name="LD_H_D8", .cb=0 },
  { .name="DAA", .cb=0 },
  { .name="JR_Z_R8", .cb=0 },
  { .name="ADD_HL_HL", .cb=0 },
  { .name="LD_A_HL_IND_PLUS", .cb=0 },
  { .name="DEC_HL", .cb=0 },
  { .name="INC_L", .cb=0 },
  { .name="DEC_L", .cb=0 },
  { .name="LD_L_D8", .cb=0 },
  { .name="CPL", .cb=0 },
  { .name="JR_NC_R8", .cb=0 },
  { .name="LD_SP_D16", .cb=0 },
  { .name="LD_HL_IND_MINUS_A", .cb=0 },
  { .name="INC_SP", .cb=0 },
  { .name="INC_HL_IND", .cb=0 },
  { .name="DEC_HL_IND", .cb=0 },
  { .name="LD_HL_IND_D8", .cb=0 },
  { .name="SCF", .cb=0 },
  { .name="JR_C_R8", .cb=0 },
  { .name="ADD_HL_SP", .cb=0 },
  { .name="LD_A_HL_IND_MINUS", .cb=0 },
  { .name="DEC_SP", .cb=0 },
  { .name="INC_A", .cb=0 },
  { .name="DEC_A", .cb=0 },
  { .name="LD_A_D8", .cb=0 },
  { .name="CCF", .cb=0 },
  { .name="LD_B_B", .cb=0 },
  { .name="LD_B_C", .cb=0 },
  { .name="LD_B_D", .cb=0 },
  { .name="LD_B_E", .cb=0 },
  { .name="LD_B_H", .cb=0 },
  { .name="LD_B_L", .cb=0 },
  { .name="LD_B_HL_IND", .cb=0 },
  { .name="LD_B_A", .cb=0 },
  { .name="LD_C_B", .cb=0 },
  { .name="LD_C_C", .cb=0 },
  { .name="LD_C_D", .cb=0 },
  { .name="LD_C_E", .cb=0 },
  { .name="LD_C_H", .cb=0 },
  { .name="LD_C_L", .cb=0 },
  { .name="LD_C_HL_IND", .cb=0 },
  { .name="LD_C_A", .cb=0 },
  { .name="LD_D_B", .cb=0 },
  { .name="LD_D_C", .cb=0 },
  { .name="LD_D_D", .cb=0 },
  { .name="LD_D_E", .cb=0 },
  { .name="LD_D_H", .cb=0 },
  { .name="LD_D_L", .cb=0 },
  { .name="LD_D_HL_IND", .cb=0 },
  { .name="LD_D_A", .cb=0 },
  { .name="LD_E_B", .cb=0 },
  { .name="LD_E_C", .cb=0 },
  { .name="LD_E_D", .cb=0 },
  { .name="LD_E_E", .cb=0 },
  { .name="LD_E_H", .cb=0 },
  { .name="LD_E_L", .cb=0 },
  { .name="LD_E_HL_IND", .cb=0 },
  { .name="LD_E_A", .cb=0 },
  { .name="LD_H_B", .cb=0 },
  { .name="LD_H_C", .cb=0 },
  { .name="LD_H_D", .cb=0 },
  { .name="LD_H_E", .cb=0 },
  { .name="LD_H_H", .cb=0 },
  { .name="LD_H_L", .cb=0 },
  { .name="LD_H_HL_IND", .cb=0 },
  { .name="LD_H_A", .cb=0 },
  { .name="LD_L_B", .cb=0 },
  { .name="LD_L_C", .cb=0 },
  { .name="LD_L_D", .cb=0 },
  { .name="LD_L_E", .cb=0 },
  { .name="LD_L_H", .cb=0 },
  { .name="LD_L_L", .cb=0 },
  { .name="LD_L_HL_IND", .cb=0 },
  { .name="LD_L_A", .cb=0 },
  { .name="LD_HL_IND_B", .cb=0 },
  { .name="LD_HL_IND_C", .cb=0 },
  { .name="LD_HL_IND_D", .cb=0 },
  { .name="LD_HL_IND_E", .cb=0 },
  { .name="LD_HL_IND_H", .cb=0 },
  { .name="LD_HL_IND_L", .cb=0 },
  { .name="HALT", .cb=0 },
  { .name="LD_HL_IND_A", .cb=0 },
  { .name="LD_A_B", .cb=0 },
  { .name="LD_A_C", .cb=0 },
  { .name="LD_A_D", .cb=0 },
  { .name="LD_A_E", .cb=0 },
  { .name="LD_A_H", .cb=0 },
  { .name="LD_A_L", .cb=0 },
  { .name="LD_A_HL_IND", .cb=0 },
  { .name="LD_A_A", .cb=0 },
  { .name="ADD_A_B", .cb=0 },
  { .name="ADD_A_C", .cb=0 },
  { .name="ADD_A_D", .cb=0 },
  { .name="ADD_A_E", .cb=0 },
  { .name="ADD_A_H", .cb=0 },
  { .name="ADD_A_L", .cb=0 },
  { .name="ADD_A_HL_IND", .cb=0 },
  { .name="ADD_A_A", .cb=0 },
  { .name="ADC_A_B", .cb=0 },
  { .name="ADC_A_C", .cb=0 },
  { .name="ADC_A_D", .cb=0 },
  { .name="ADC_A_E", .cb=0 },
  { .name="ADC_A_H", .cb=0 },
  { .name="ADC_A_L", .cb=0 },
  { .name="ADC_A_HL_IND", .cb=0 },
  { .name="ADC_A_A", .cb=0 },
  { .name="SUB_B", .cb=0 },
  { .name="SUB_C", .cb=0 },
  { .name="SUB_D", .cb=0 },
  { .name="SUB_E", .cb=0 },
  { .name="SUB_H", .cb=0 },
  { .name="SUB_L", .cb=0 },
  { .name="SUB_HL_IND", .cb=0 },
  { .name="SUB_A", .cb=0 },
  { .name="SBC_A_B", .cb=0 },
  { .name="SBC_A_C", .cb=0 },
  { .name="SBC_A_D", .cb=0 },
  { .name="SBC_A_E", .cb=0 },
  { .name="SBC_A_H", .cb=0 },
  { .name="SBC_A_L", .cb=0 },
  { .name="SBC_A_HL_IND", .cb=0 },
  { .name="SBC_A_A", .cb=0 },
  { .name="AND_B", .cb=0 },
  { .name="AND_C", .cb=0 },
  { .name="AND_D", .cb=0 },
  { .name="AND_E", .cb=0 },
  { .name="AND_H", .cb=0 },
  { .name="AND_L", .cb=0 },
  { .name="AND_HL_IND", .cb=0 },
  { .name="AND_A", .cb=0 },
  { .name="XOR_A_B", .cb=0 },
  { .name="XOR_A_C", .cb=0 },
  { .name="XOR_A_D", .cb=0 },
  { .name="XOR_A_E", .cb=0 },
  { .name="XOR_A_H", .cb=0 },
  { .name="XOR_A_L", .cb=0 },
  { .name="XOR_A_HL_IND", .cb=0 },
  { .name="XOR_A_A", .cb=0 },
  { .name="OR_B", .cb=0 },
  { .name="OR_C", .cb=0 },
  { .name="OR_D", .cb=0 },
  { .name="OR_E", .cb=0 },
  { .name="OR_H", .cb=0 },
  { .name="OR_L", .cb=0 },
  { .name="OR_HL_IND", .cb=0 },
  { .name="OR_A", .cb=0 },
  { .name="CP_A_B", .cb=0 },
  { .name="CP_A_C", .cb=0 },
  { .name="CP_A_D", .cb=0 },
  { .name="CP_A_E", .cb=0 },
  { .name="CP_A_H", .cb=0 },
  { .name="CP_A_L", .cb=0 },
  { .name="CP_A_HL_IND", .cb=0 },
  { .name="CP_A_A", .cb=0 },
  { .name="RET_NZ", .cb=0 },
  { .name="POP_BC", .cb=0 },
  { .name="JP_NZ_A16", .cb=0 },
  { .name="JP_A16", .cb=0 },
  { .name="CALL_NZ_A16", .cb=0 },
  { .name="PUSH_BC", .cb=0 },
  { .name="ADD_A_D8", .cb=0 },
  { .name="RST_00H", .cb=0 },
  { .name="RET_Z", .cb=0 },
  { .name="RET", .cb=0 },
  { .name="JP_Z_A16", .cb=0 },
  { .name="PREFIX_CB", .cb=0 },
  { .name="CALL_Z_A16", .cb=0 },
  { .name="CALL_A16", .cb=0 },
  { .name="ADC_A_D8", .cb=0 },
  { .name="RST_08H", .cb=0 },
  { .name="RET_NC", .cb=0 },
  { .name="POP_DE", .cb=0 },
  { .name="JP_NC_A16", .cb=0 },
  { .name=NULL },
  { .name="CALL_NC_A16", .cb=0 },
  { .name="PUSH_DE", .cb=0 },
  { .name="SUB_D8", .cb=0 },
  { .name="RST_10H", .cb=0 },
  { .name="RET_C", .cb=0 },
  { .name="RETI", .cb=0 },
  { .name="JP_C_A16", .cb=0 },
  { .name=NULL },
  { .name="CALL_C_A16", .cb=0 },
  { .name=NULL },
  { .name="SBC_A_D8", .cb=0 },
  { .name="RST_18H", .cb=0 },
  { .name="LDH_A8_IND_A", .cb=0 },
  { .name="POP_HL", .cb=0 },
  { .name="LD_C_IND_A", .cb=0 },
  { .name=NULL },
  { .name=NULL },
  { .name="PUSH_HL", .cb=0 },
  { .name="AND_D8", .cb=0 },
  { .name="RST_20H", .cb=0 },
  { .name="ADD_SP_R8", .cb=0 },
  { .name="JP_HL_IND", .cb=0 },
  { .name="LD_A16_IND_A", .cb=0 },
  { .name=NULL },
  { .name=NULL },
  { .name=NULL },
  { .name="XOR_D8", .cb=0 },
  { .name="RST_28H", .cb=0 },
  { .name="LDH_A_A8_IND", .cb=0 },
  { .name="POP_AF", .cb=0 },
  { .name="LD_A_C_IND", .cb=0 },
  { .name="DI", .cb=0 },
  { .name=NULL },
  { .name="PUSH_AF", .cb=0 },
  { .name="OR_D8", .cb=0 },
  { .name="RST_30H", .cb=0 },
  { .name="LD_HL_SP_PLUS_R8", .cb=0 },
  { .name="LD_SP_HL", .cb=0 },
  { .name="LD_A_A16_IND", .cb=0 },
  { .name="EI", .cb=0 },
  { .name=NULL },
  { .name=NULL },
  { .name="CP_D8", .cb=0 },
  { .name="RST_38H", .cb=0 }
};

struct opcode* opcode_describe(unsigned char opcode) {
  struct opcode* result=&OPCODE_DESCRIPTIONS[opcode];
  if(result->name == NULL)
    exit(ERR_BAD_OPCODE);
  return result;
}

struct opcode OPCODE_CB_DESCRIPTIONS[256]={
  { .name="RLC_B", .cb=1 },
  { .name="RLC_C", .cb=1 },
  { .name="RLC_D", .cb=1 },
  { .name="RLC_E", .cb=1 },
  { .name="RLC_H", .cb=1 },
  { .name="RLC_L", .cb=1 },
  { .name="RLC_HL_IND", .cb=1 },
  { .name="RLC_A", .cb=1 },
  { .name="RRC_B", .cb=1 },
  { .name="RRC_C", .cb=1 },
  { .name="RRC_D", .cb=1 },
  { .name="RRC_E", .cb=1 },
  { .name="RRC_H", .cb=1 },
  { .name="RRC_L", .cb=1 },
  { .name="RRC_HL_IND", .cb=1 },
  { .name="RRC_A", .cb=1 },
  { .name="RL_B", .cb=1 },
  { .name="RL_C", .cb=1 },
  { .name="RL_D", .cb=1 },
  { .name="RL_E", .cb=1 },
  { .name="RL_H", .cb=1 },
  { .name="RL_L", .cb=1 },
  { .name="RL_HL_IND", .cb=1 },
  { .name="RL_A", .cb=1 },
  { .name="RR_B", .cb=1 },
  { .name="RR_C", .cb=1 },
  { .name="RR_D", .cb=1 },
  { .name="RR_E", .cb=1 },
  { .name="RR_H", .cb=1 },
  { .name="RR_L", .cb=1 },
  { .name="RR_HL_IND", .cb=1 },
  { .name="RR_A", .cb=1 },
  { .name="SLA_B", .cb=1 },
  { .name="SLA_C", .cb=1 },
  { .name="SLA_D", .cb=1 },
  { .name="SLA_E", .cb=1 },
  { .name="SLA_H", .cb=1 },
  { .name="SLA_L", .cb=1 },
  { .name="SLA_HL_IND", .cb=1 },
  { .name="SLA_A", .cb=1 },
  { .name="SRA_B", .cb=1 },
  { .name="SRA_C", .cb=1 },
  { .name="SRA_D", .cb=1 },
  { .name="SRA_E", .cb=1 },
  { .name="SRA_H", .cb=1 },
  { .name="SRA_L", .cb=1 },
  { .name="SRA_HL_IND", .cb=1 },
  { .name="SRA_A", .cb=1 },
  { .name="SWAP_B", .cb=1 },
  { .name="SWAP_C", .cb=1 },
  { .name="SWAP_D", .cb=1 },
  { .name="SWAP_E", .cb=1 },
  { .name="SWAP_H", .cb=1 },
  { .name="SWAP_L", .cb=1 },
  { .name="SWAP_HL_IND", .cb=1 },
  { .name="SWAP_A", .cb=1 },
  { .name="SRL_B", .cb=1 },
  { .name="SRL_C", .cb=1 },
  { .name="SRL_D", .cb=1 },
  { .name="SRL_E", .cb=1 },
  { .name="SRL_H", .cb=1 },
  { .name="SRL_L", .cb=1 },
  { .name="SRL_HL_IND", .cb=1 },
  { .name="SRL_A", .cb=1 },
  { .name="BIT_0_B", .cb=1 },
  { .name="BIT_0_C", .cb=1 },
  { .name="BIT_0_D", .cb=1 },
  { .name="BIT_0_E", .cb=1 },
  { .name="BIT_0_H", .cb=1 },
  { .name="BIT_0_L", .cb=1 },
  { .name="BIT_0_HL_IND", .cb=1 },
  { .name="BIT_0_A", .cb=1 },
  { .name="BIT_1_B", .cb=1 },
  { .name="BIT_1_C", .cb=1 },
  { .name="BIT_1_D", .cb=1 },
  { .name="BIT_1_E", .cb=1 },
  { .name="BIT_1_H", .cb=1 },
  { .name="BIT_1_L", .cb=1 },
  { .name="BIT_1_HL_IND", .cb=1 },
  { .name="BIT_1_A", .cb=1 },
  { .name="BIT_2_B", .cb=1 },
  { .name="BIT_2_C", .cb=1 },
  { .name="BIT_2_D", .cb=1 },
  { .name="BIT_2_E", .cb=1 },
  { .name="BIT_2_H", .cb=1 },
  { .name="BIT_2_L", .cb=1 },
  { .name="BIT_2_HL_IND", .cb=1 },
  { .name="BIT_2_A", .cb=1 },
  { .name="BIT_3_B", .cb=1 },
  { .name="BIT_3_C", .cb=1 },
  { .name="BIT_3_D", .cb=1 },
  { .name="BIT_3_E", .cb=1 },
  { .name="BIT_3_H", .cb=1 },
  { .name="BIT_3_L", .cb=1 },
  { .name="BIT_3_HL_IND", .cb=1 },
  { .name="BIT_3_A", .cb=1 },
  { .name="BIT_4_B", .cb=1 },
  { .name="BIT_4_C", .cb=1 },
  { .name="BIT_4_D", .cb=1 },
  { .name="BIT_4_E", .cb=1 },
  { .name="BIT_4_H", .cb=1 },
  { .name="BIT_4_L", .cb=1 },
  { .name="BIT_4_HL_IND", .cb=1 },
  { .name="BIT_4_A", .cb=1 },
  { .name="BIT_5_B", .cb=1 },
  { .name="BIT_5_C", .cb=1 },
  { .name="BIT_5_D", .cb=1 },
  { .name="BIT_5_E", .cb=1 },
  { .name="BIT_5_H", .cb=1 },
  { .name="BIT_5_L", .cb=1 },
  { .name="BIT_5_HL_IND", .cb=1 },
  { .name="BIT_5_A", .cb=1 },
  { .name="BIT_6_B", .cb=1 },
  { .name="BIT_6_C", .cb=1 },
  { .name="BIT_6_D", .cb=1 },
  { .name="BIT_6_E", .cb=1 },
  { .name="BIT_6_H", .cb=1 },
  { .name="BIT_6_L", .cb=1 },
  { .name="BIT_6_HL_IND", .cb=1 },
  { .name="BIT_6_A", .cb=1 },
  { .name="BIT_7_B", .cb=1 },
  { .name="BIT_7_C", .cb=1 },
  { .name="BIT_7_D", .cb=1 },
  { .name="BIT_7_E", .cb=1 },
  { .name="BIT_7_H", .cb=1 },
  { .name="BIT_7_L", .cb=1 },
  { .name="BIT_7_HL_IND", .cb=1 },
  { .name="BIT_7_A", .cb=1 },
  { .name="RES_0_B", .cb=1 },
  { .name="RES_0_C", .cb=1 },
  { .name="RES_0_D", .cb=1 },
  { .name="RES_0_E", .cb=1 },
  { .name="RES_0_H", .cb=1 },
  { .name="RES_0_L", .cb=1 },
  { .name="RES_0_HL_IND", .cb=1 },
  { .name="RES_0_A", .cb=1 },
  { .name="RES_1_B", .cb=1 },
  { .name="RES_1_C", .cb=1 },
  { .name="RES_1_D", .cb=1 },
  { .name="RES_1_E", .cb=1 },
  { .name="RES_1_H", .cb=1 },
  { .name="RES_1_L", .cb=1 },
  { .name="RES_1_HL_IND", .cb=1 },
  { .name="RES_1_A", .cb=1 },
  { .name="RES_2_B", .cb=1 },
  { .name="RES_2_C", .cb=1 },
  { .name="RES_2_D", .cb=1 },
  { .name="RES_2_E", .cb=1 },
  { .name="RES_2_H", .cb=1 },
  { .name="RES_2_L", .cb=1 },
  { .name="RES_2_HL_IND", .cb=1 },
  { .name="RES_2_A", .cb=1 },
  { .name="RES_3_B", .cb=1 },
  { .name="RES_3_C", .cb=1 },
  { .name="RES_3_D", .cb=1 },
  { .name="RES_3_E", .cb=1 },
  { .name="RES_3_H", .cb=1 },
  { .name="RES_3_L", .cb=1 },
  { .name="RES_3_HL_IND", .cb=1 },
  { .name="RES_3_A", .cb=1 },
  { .name="RES_4_B", .cb=1 },
  { .name="RES_4_C", .cb=1 },
  { .name="RES_4_D", .cb=1 },
  { .name="RES_4_E", .cb=1 },
  { .name="RES_4_H", .cb=1 },
  { .name="RES_4_L", .cb=1 },
  { .name="RES_4_HL_IND", .cb=1 },
  { .name="RES_4_A", .cb=1 },
  { .name="RES_5_B", .cb=1 },
  { .name="RES_5_C", .cb=1 },
  { .name="RES_5_D", .cb=1 },
  { .name="RES_5_E", .cb=1 },
  { .name="RES_5_H", .cb=1 },
  { .name="RES_5_L", .cb=1 },
  { .name="RES_5_HL_IND", .cb=1 },
  { .name="RES_5_A", .cb=1 },
  { .name="RES_6_B", .cb=1 },
  { .name="RES_6_C", .cb=1 },
  { .name="RES_6_D", .cb=1 },
  { .name="RES_6_E", .cb=1 },
  { .name="RES_6_H", .cb=1 },
  { .name="RES_6_L", .cb=1 },
  { .name="RES_6_HL_IND", .cb=1 },
  { .name="RES_6_A", .cb=1 },
  { .name="RES_7_B", .cb=1 },
  { .name="RES_7_C", .cb=1 },
  { .name="RES_7_D", .cb=1 },
  { .name="RES_7_E", .cb=1 },
  { .name="RES_7_H", .cb=1 },
  { .name="RES_7_L", .cb=1 },
  { .name="RES_7_HL_IND", .cb=1 },
  { .name="RES_7_A", .cb=1 },
  { .name="SET_0_B", .cb=1 },
  { .name="SET_0_C", .cb=1 },
  { .name="SET_0_D", .cb=1 },
  { .name="SET_0_E", .cb=1 },
  { .name="SET_0_H", .cb=1 },
  { .name="SET_0_L", .cb=1 },
  { .name="SET_0_HL_IND", .cb=1 },
  { .name="SET_0_A", .cb=1 },
  { .name="SET_1_B", .cb=1 },
  { .name="SET_1_C", .cb=1 },
  { .name="SET_1_D", .cb=1 },
  { .name="SET_1_E", .cb=1 },
  { .name="SET_1_H", .cb=1 },
  { .name="SET_1_L", .cb=1 },
  { .name="SET_1_HL_IND", .cb=1 },
  { .name="SET_1_A", .cb=1 },
  { .name="SET_2_B", .cb=1 },
  { .name="SET_2_C", .cb=1 },
  { .name="SET_2_D", .cb=1 },
  { .name="SET_2_E", .cb=1 },
  { .name="SET_2_H", .cb=1 },
  { .name="SET_2_L", .cb=1 },
  { .name="SET_2_HL_IND", .cb=1 },
  { .name="SET_2_A", .cb=1 },
  { .name="SET_3_B", .cb=1 },
  { .name="SET_3_C", .cb=1 },
  { .name="SET_3_D", .cb=1 },
  { .name="SET_3_E", .cb=1 },
  { .name="SET_3_H", .cb=1 },
  { .name="SET_3_L", .cb=1 },
  { .name="SET_3_HL_IND", .cb=1 },
  { .name="SET_3_A", .cb=1 },
  { .name="SET_4_B", .cb=1 },
  { .name="SET_4_C", .cb=1 },
  { .name="SET_4_D", .cb=1 },
  { .name="SET_4_E", .cb=1 },
  { .name="SET_4_H", .cb=1 },
  { .name="SET_4_L", .cb=1 },
  { .name="SET_4_HL_IND", .cb=1 },
  { .name="SET_4_A", .cb=1 },
  { .name="SET_5_B", .cb=1 },
  { .name="SET_5_C", .cb=1 },
  { .name="SET_5_D", .cb=1 },
  { .name="SET_5_E", .cb=1 },
  { .name="SET_5_H", .cb=1 },
  { .name="SET_5_L", .cb=1 },
  { .name="SET_5_HL_IND", .cb=1 },
  { .name="SET_5_A", .cb=1 },
  { .name="SET_6_B", .cb=1 },
  { .name="SET_6_C", .cb=1 },
  { .name="SET_6_D", .cb=1 },
  { .name="SET_6_E", .cb=1 },
  { .name="SET_6_H", .cb=1 },
  { .name="SET_6_L", .cb=1 },
  { .name="SET_6_HL_IND", .cb=1 },
  { .name="SET_6_A", .cb=1 },
  { .name="SET_7_B", .cb=1 },
  { .name="SET_7_C", .cb=1 },
  { .name="SET_7_D", .cb=1 },
  { .name="SET_7_E", .cb=1 },
  { .name="SET_7_H", .cb=1 },
  { .name="SET_7_L", .cb=1 },
  { .name="SET_7_HL_IND", .cb=1 },
  { .name="SET_7_A", .cb=1 },
};

struct opcode* opcode_cb_describe(unsigned char opcode) {
  struct opcode* result=&OPCODE_CB_DESCRIPTIONS[opcode];
  if(result->name == NULL)
    exit(ERR_BAD_OPCODE);
  return result;
}
